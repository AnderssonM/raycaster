
Using different color maps
----------------

To translate the volume data values to a color, ORC uses a color map.
These color maps consists of a number of color stops with a RGBA color code
for each stop between 0.0 and 1.0.

So far all examples have been shown using the same blue color map. There are
however a number of different color maps available. 

1. **Selecting an pre configured color map**

    Selecting a pre included color maps is easy. Just select the colormap by	
    name using the updateColorMap() method, and then call the render function
    to update the rendered image.

        <script>
	     rayCaster.updateColorMap("Hot");
	     rayCaster.render();
        </script>

    The following pre configured maps are available.

    - Hot
    - Cold 
    - Gray
    - StarryNight

    
    The effects of the different maps can be seen below.

    <table>
    <tr>
	<td>ColorMap:Hot
	<td>ColorMap:Frog
	<td>ColorMap:Cold 
    </tr>
    <tr>
	<td rowspan="3">	
	<canvas id="rayCanvasHot" height="342"  width="336" style="background: grey" ></canvas>
	<td>
	<canvas id="rayCanvasFrog" height="155"  width="155" style="background: grey" ></canvas>
	<td>
	<canvas id="rayCanvasCold" height="155"  width="155" style="background: grey"   ></canvas>
    </tr>
    <tr>
	<td>ColorMap:Gray
	<td>ColorMap:StarryNight 
    </tr>
    <tr>
	
	<td>
	<canvas id="rayCanvasGray" height="155"  width="155" style="background: grey" ></canvas>
	<td>
	<canvas id="rayCanvasStarryNight" height="155"  width="155" style="background: grey" ></canvas>
    </tr>


    </table>
  
2. **Custom color maps**
 
    It is also possible to customize the colormap by modifying the custom 
    object of the ColorMap class.

        <script>
	    Colormaps.Custom= [
		   {'stop': 0.15, 'color': "rgba(32,0,0,0.2)"},
		   {'stop': 0.07, 'color': "rgba(228,30,0,0.3)"},
		   {'stop': 1.0, 'color': "rgba(200,228,0,.9)"}
	       ];
	    rayCaster.updateColorMap("Custom");
	    rayCaster.render();
        </script>
   




<script src="../../../js/lib.js"  ></script>
<script src="../../../js/RayCaster.js"></script>
<script id="tutorialScript">
    var options={ };
    
    
    var canvas_element = document.getElementById("rayCanvasHot"); 
    options.renderTarget=canvas_element;  
    rayCasterHot = new OpenRayCaster(options);
    rayCasterHot.updateColorMap("Hot"); 
    
    canvas_element = document.getElementById("rayCanvasCold");
    options.renderTarget=canvas_element;   
    rayCasterCold = new OpenRayCaster(options);    
    
    canvas_element = document.getElementById("rayCanvasFrog");
    options.renderTarget=canvas_element;   
    rayCasterFrog = new OpenRayCaster(options);

    canvas_element = document.getElementById("rayCanvasGray");
    options.renderTarget=canvas_element;   
    rayCasterGray = new OpenRayCaster(options);
 
    canvas_element = document.getElementById("rayCanvasStarryNight");
    options.renderTarget=canvas_element;   
    rayCasterStarry = new OpenRayCaster(options);
    
    var  cameraCrew = new CameraCrew(rayCasterHot,30);
    cameraCrew.render=rayCasterHot.render.bind(rayCasterHot);
    cameraCrew.setupMouseEvents();
    
    // 
    // Special tricks to clone data set of first raycaster (hot)
    // This needs to wait until data is loaded
    callback= function(r){
	
	console.log("in callback");
	rayCasterCold.volumeData.clone(rayCasterHot.volumeData); 
	rayCasterCold.callback=function(){};
	rayCasterCold.onLoadSuccess();
	rayCasterCold.updateColorMap("Cold");
	rayCasterCold.render();
	
	rayCasterFrog.volumeData.clone(rayCasterHot.volumeData); 
	rayCasterFrog.callback=function(){};
	rayCasterFrog.onLoadSuccess();
	rayCasterFrog.updateColorMap("Frog");
	rayCasterFrog.render();
	
	rayCasterGray.volumeData.clone(rayCasterHot.volumeData); 
	rayCasterGray.callback=function(){};
	rayCasterGray.onLoadSuccess();
	rayCasterGray.updateColorMap("Gray");
	rayCasterGray.render();
	
	rayCasterStarry.volumeData.clone(rayCasterHot.volumeData); 
	rayCasterStarry.callback=function(){};
	rayCasterStarry.onLoadSuccess();
	rayCasterStarry.updateColorMap("StarryNight");
	rayCasterStarry.render();
    }

    // Load data in hot raycaster
    rayCasterHot.loadDataFile(root+'/sampleData/teapot.16x16.png',callback); 
    

    console.log("done");
    
</script>