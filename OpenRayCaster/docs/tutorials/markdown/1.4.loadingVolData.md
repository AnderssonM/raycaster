
Loading a Volume Data File.
---------------


In the previous examples an Open RayCaster (ORC) volume was created, but since no data
was loaded, only a set of axes are displayed. This chapter describes one of 
the methods of loading data into ORC, using the nativeImageData loader.
  
1. **The setup**

    The setup is the same as for the previous examples.

        <script src="js/lib.depend.js" >  </script>
        <script src="js/OpenRayCaster.js" >  </script>
        <script>
            var canvas_element = document.getElementById("rayCanvas");
            rayCaster = new OpenRayCaster({renderTarget:canvas_element});
        </script>   
         

2. **Loading a volume data file**
    
    ORC also supports a simple volumetric data format as described by here on
    <a href="http://paulbourke.net/dataformats/volumetric/" target="_blank">
    Paul Bourke's web page</a> (There are a few different .vol formats, make
    sure you have the right one)  

    Since this format contains all the meta data needed to correctly scale
    the data volume, there is no need for any special naming schemes.
    
    This data format also supports variable bit length for the cell-data so 
    that each cell may contain 1,2,4,8,16 or 32 bits per cell, thus providing 
    a balance between size and  accurate representation of the cell values.

        <script>
            rayCaster.loadDataFile(root+'/sampleData/C60BuckyBall.vol');
        </script>
 
    ORC loadDataFile function will assume that any file loaded with the .vol
    file type extension is of this volumetric data format.


3. **Optional callback**
    
    Just like for native the imagedata loader, the data loading process is 
    asynchronous, which means the loadDataFile call will return directly. 
    The loadDataFile method also takes an optional 'callBack'
    argument that can be used for receiving notification when the load is complete.

        <script>
            function loadCompleteCallback(){
                console.log("Data loaded");
            }
            rayCaster.loadDataFile(root+'/sampleData/C60BuckyBall.vol');
        </script>

   <canvas id="rayCanvas" height="400" width="670" ></canvas>

    ***Full code for this exercise.*** 

        <!DOCTYPE html> 
        <html> 
        <body> 
            <script src="js/lib.depend.js" >  </script>
            <script src="js/OpenRayCaster.js" >  </script>
            <script>
                var canvas_element = document.getElementById("rayCanvas");
                rayCaster = new OpenRayCaster({renderTarget:canvas_element});
                function loadCompleteCallback(){
                    console.log("Data loaded");
                }
                rayCaster.loadDataFile(root+'/sampleData/logo2.4x8.vol',loadCompleteCallback);
            </script>   
        </body> 
        </html> 


<script id="tutorialScript">

	var canvas_element = document.getElementById("rayCanvas");
	rayCaster = new OpenRayCaster({renderTarget:canvas_element});
	function loadCompleteCallback(){
	    console.log("Data loaded");
	}
	rayCaster.loadDataFile(root+'/sampleData/C60BuckyBall.vol',loadCompleteCallback);
	rayCaster.setSliceZ(10,20);	

</script>
